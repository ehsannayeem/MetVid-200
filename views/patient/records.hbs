<!--
<h3><a class="btn btn-secondary" href="/patient"><i class="fa fa-plus"></i> Create New</a>Patient Records</h3>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Full Name</th>
            <th>Address</th>
            <th>Mobile</th>
            <th>Corona Status</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {{#each records}}
        <tr>
            <td>{{this.fullName}}</td>
            <td>{{this.address}}</td>
            <td>{{this.mobile}}</td>
            <td>{{this.coronaStatus}}</td>
            <td>
                <a href="/patient/{{this._id}}"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i></a>
                <a href="/patient/delete/{{this._id}}" onclick="return confirm('Are you sure to delete this record ?');"><i class="fa fa-trash fa-lg" aria-hidden="true"></i></a>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>-->

<div class="clearfix">
   <h3><b>Patients Data | METVID</b></h3>
        
    <a style="color:#fff; border: none; padding-top:5px; padding-bottom:5px;
    padding-left: 20px; padding-right:20px; border-radius:100px; box-shadow: rgba(2, 120, 255, 0.15) 0px 2px 8px;
    background-color: #0069ed;" href="/patient"><i class="fa fa-plus-square"></i> Add New</a>    
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<style>
    th{ 
        cursor: pointer;
        color:#fff;
            }
</style>

<div class="row">
    <div class="col" style="margin-top: 20px; margin-bottom: 20px; width: 100%;">
        <input class="form-control" id="search-input" type="text" class="from-control" placeholder="Enter name to find...">
    </div>
</div>

<table class="table table-striped table-dark">
    <tr  style="background-color: #5e17eb;">
        <th data-colname="fullName" data-order="desc">Full Name</th>
        <th data-colname="address" data-order="desc">Address</th>
        <th data-colname="mobile" data-order="desc">Mobile Number</th>
        <th data-colname="coronaStatus" data-order="desc">Corona Status</th>
    </tr>
    <tbody id="myTable">
        
    </tbody>
</table>


<script>
var myArray = [
    {'fullName':'Ehsan Ahmed',      'address':'Tazpur',     'mobile':'0165849684',  'coronaStatus':'Negative'},
    {'fullName':'Faiyaz Ahmed',     'address':'Goalabazar', 'mobile':'0179879664',  'coronaStatus':'Negative'},
    {'fullName':'Iron Man',         'address':'Marvel',     'mobile':'626898747',   'coronaStatus':'Negative'},
    {'fullName':'Thor',             'address':'Marvel',     'mobile':'626898748',   'coronaStatus':'Negative'},
    {'fullName':'Captain America',  'address':'Marvel',     'mobile':'626898749',   'coronaStatus':'Negative'},
    {'fullName':'Hawk Eye',         'address':'Marvel',     'mobile':'626898746',   'coronaStatus':'Positive'},
    {'fullName':'Groot',         'address':'Marvel Universe',     'mobile':'626898747',   'coronaStatus':'Negative'}
]


 $('#search-input').on('keyup', function(){
     var value = $(this).val()
     console.log('Value:', value)
     var data = searchTable(value, myArray);
     console.log(data);
     buildTable(data)
 })

buildTable(myArray)

function searchTable(value, data){
    return data.filter(item => {
        return item.fullName.toLowerCase().indexOf(value) >= 0;
    });    
}


function buildTable(data){
    var table = document.getElementById('myTable')

    table.innerHTML = ''

    for (var i = 0; i < data.length; i++){

        var row = `<tr>
                        <td>${data[i].fullName}</td>
                        <td>${data[i].address}</td>
                        <td>${data[i].mobile}</td>
                        <td>${data[i].coronaStatus}</td>
                   </tr>`
        table.innerHTML += row
    }
}

</script>
